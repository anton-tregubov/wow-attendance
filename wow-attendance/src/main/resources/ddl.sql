CREATE TABLE Characters
(
  ID INT generated by default as identity PRIMARY KEY NOT NULL,
  NICKNAME VARCHAR(30) NOT NULL,
  RANG INT NOT NULL,
  LAST_MODIFICATION DATE NOT NULL
);
ALTER TABLE Characters
ADD CONSTRAINT unique_nickname UNIQUE (NICKNAME);

create table Attendances
(
  CHARACTER_ID INT NOT NULL,
  DAY DATE NOT NULL,

  Constraint PK_Attendances PRIMARY KEY (CHARACTER_ID,DAY)
);

ALTER TABLE Attendances
ADD FOREIGN KEY (CHARACTER_ID)
REFERENCES Characters(ID)